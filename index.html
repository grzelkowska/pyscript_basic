<!DOCTYPE html>
<html lang="en">
  <head>
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css"
    />
    <!-- <py-env> 
      - numpy 
      - matplotlib 
      - paths: 
        - ./main.py 
    </py-env> -->
  </head>
  <body>
    <!-- <py-script>
        from datetime import datetime
        from main import get_date

        print("hello world")

        print(f"Today is {datetime.now()}")
        print(get_date())        
    </py-script>
    <py-script src-"./main.py">
        print(get_date())
    </py-script> -->

    <!-- <py-script src="./main.py"></py-script> -->

    <main class="container">
      <div>
        <input
          type="number"
          id="number_input"
          min="1"
          max="50"
          placeholder="Guess a number between 1 and 50"
        />
        <button id="add_todo" pys-onClick="play_game">Guess</button>
      </div>
      <h1 id="result"></h1>
    </main>
    <py-script>
      import random

      number_input = Element("number_input")
      def play_game(*args):
        user_guess = number_input.value
        machine_guess = random.randint(1, 50)
        if int(user_guess) == machine_guess:
          result.element.innerText = "You win!"
        else:
          result.element.innerText = f"You lost! The machine chose {machine_guess}!"
        number_input.clear()
    </py-script>
  </body>
</html>
